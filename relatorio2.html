<div class="relatorio-container">
  <h2>Relat√≥rio 2 - Calibra√ß√£o de Cameras</h2>
  <h3><pre>
  Leonardo Severgnine Maioli - RA: 11201920579
  Ricardo Javurek Rihan - RA: 11201920897
  Tiago Luiz Silva de Araujo Pereira - RA: 11013316

  Laborat√≥rio realizado dias 25 de Junho, relat√≥rio finalizado dia
  </pre></h3>
  <h2>Introdu√ß√£o</h2>
  <p>
    A calibra√ß√£o de c√¢meras √© um processo fundamental em Vis√£o Computacional, permitindo a corre√ß√£o de distor√ß√µes da lente e a determina√ß√£o dos 
    par√¢metros intr√≠nsecos e extr√≠nsecos da c√¢mera. Esses par√¢metros s√£o essenciais para aplica√ß√µes como reconstru√ß√£o 3D, realidade aumentada, 
    navega√ß√£o de rob√¥s e medi√ß√µes precisas em imagens. Neste segundo relat√≥rio, realizamos tr√™s etapas principais: Calibra√ß√£o com imagens pr√©-capturadas, 
    Calibra√ß√£o de uma webcam pessoal e a Corre√ß√£o de distor√ß√£o em imagens.
  </p>
  <h2>Arquivos base para reproduzir o procedimento:</h2>
  <ul>
    <li><a href="relatorio2/esza019_2025.2__Lab2_calib_v2.pdf" download class="download-link">üìÑ Baixar Roteiro (PDF)</a></li>
    <li><a href="relatorio2/Lab2_arquivos.zip" download class="download-link">üì¶ Baixar C√≥digos Fonte (ZIP)</a></li>
  </ul>

    <h2>Procedimentos Experimentais</h2>
      <!-- Parte 1 - A -->

  <p>
    O primeiro experimento consiste em realizar a calibra√ß√£o da camera utilizando imagens disponibilizadas de uma tabuleiro 6x9
    sendo registradas de diversos angulos.
  </p>
  <div class="image-container">
    <img src="relatorio2/foto1.jpg" alt="Imagem na leitura original" class="relatorio-image">
    <p class="image-caption"><em>Im√°gem original disponibilizada</em></p>
  </div>
  <p>
    Agora atrav√©s do c√≥digo disponibilizado, tanto pelo relat√≥rio quanto pelo site learnopencv.com, conseguimos realizar a detec√ß√£o dos cantos da imagem 
    sendo segurada pelo homem atravez de parametros definido em c√≥digo, sendo nesse caso a distancia de 3 centimetro entre cada quadrado
  </p>
  <div class="image-container">
    <img src="relatorio2/foto2.jpg" alt="Imagem" class="relatorio-image">
    <p class="image-caption"><em>Im√°gem lida pelo c√≥digo modificado</em></p>
  </div>
  Inicialmente, com o c√≥digo original, ele conseguia detectar apenas um grid 6X8, com distancias definadas em 3cm, isso por que, dentro do c√≥digo, foi 
  definido que ele encontrasse um grid nessas especifica√ß√µes, por√©m modificamos ele para que conseguisse detectar o grid por completo (6X9). 
  Segue o trecho do c√≥digo modificado:</br>
  <div class="button-group">
    <button onclick="toggleSection('code1')">C√≥digo 1 Modificado</button>
  </div>
  <div id="code1" class="relatorio-section" style="display: none;">
      <code><pre>
      .....
      import glob
 
      # Defining the dimensions of checkerboard
      CHECKERBOARD = (6,9)
      criteria = (cv2.TERM_CRITERIA_EPS + cv2.TERM_CRITERIA_MAX_ITER, 30, 0.001)
      
      # Creating vector to store vectors of 3D points for each checkerboard image
      objpoints = []
      .....
    </pre></code>
  </div>
  
  <h2>Par√¢metros Obtidos</h2>
  
  <div style="margin: 20px 0;">
  <div style="font-weight: bold; font-size: 18px; margin-bottom: 10px;">Matriz Intr√≠nseca K</div>
    <p>Transforma coordenadas 3D do sistema de coordenadas da c√¢mera em coordenadas 2D na imagem, captura as caracter√≠sticas √≥pticas 
      internas da c√¢mera e √© constante para uma determinada c√¢mera e configura√ß√£o de lente</p>
    <table style="border-collapse: collapse;">
      <tr>
        <td style="border: 1px solid #333; padding: 8px 12px; text-align: center; font-family: monospace;">536.0734</td>
        <td style="border: 1px solid #333; padding: 8px 12px; text-align: center; font-family: monospace;">0</td>
        <td style="border: 1px solid #333; padding: 8px 12px; text-align: center; font-family: monospace;">342.3704</td>
      </tr>
      <tr>
        <td style="border: 1px solid #333; padding: 8px 12px; text-align: center; font-family: monospace;">0</td>
        <td style="border: 1px solid #333; padding: 8px 12px; text-align: center; font-family: monospace;">536.0164</td>
        <td style="border: 1px solid #333; padding: 8px 12px; text-align: center; font-family: monospace;">235.5369</td>
      </tr>
      <tr>
        <td style="border: 1px solid #333; padding: 8px 12px; text-align: center; font-family: monospace;">0</td>
        <td style="border: 1px solid #333; padding: 8px 12px; text-align: center; font-family: monospace;">0</td>
        <td style="border: 1px solid #333; padding: 8px 12px; text-align: center; font-family: monospace;">1</td>
      </tr>
    </table>
  </div>


  <h3>Matriz R e Vetor t (Extr√≠nsecos):</h3>
    <p>
        Descrevem a posi√ß√£o e orienta√ß√£o da c√¢mera no mundo 3D

        R: como a c√¢mera est√° rotacionada em rela√ß√£o ao padr√£o de calibra√ß√£o

        t: onde a c√¢mera est√° localizada em rela√ß√£o ao padr√£o de calibra√ß√£o

        Variam para cada imagem, pois dependem da posi√ß√£o relativa entre c√¢mera e tabuleiro
    </p>
    <p></p>
  <h3>Vetor dist (Distor√ß√£o):</h3>
    <p>Modela as imperfei√ß√µes da lente que fazem com que as linhas retas apare√ßam curvas na imagem</p>
    <p>D=[‚àí0.2651‚àí0.04670.0018‚àí0.00030.2523]</p></br>

    <p>Estes par√¢metros s√£o essenciais para aplica√ß√µes de vis√£o computacional que requerem medidas precisas a partir de imagens, como 
      reconstru√ß√£o 3D, realidade aumentada ou navega√ß√£o de rob√¥s.
    </p></br>

  <p>Em seguida, utilizando uma webcam e um desenho de um grid, tiramos varias fotos do mesmo com o intuito de realizar a calibragem
    da camera com essas imagens. E al√©m disso, realizamos uma modifica√ß√£o no c√≥digo, conforme solicitado, para que fosse utilizado o nome
    de um dos integrantes ao tirar a foto. Segue uma das fotos tiradas para a calibragem e o trecho de c√≥digo modificado:
  </p>
  
  <div class="button-group">
    <button onclick="toggleSection('code2')">C√≥digo 2 Modificado</button>
  </div>
  <div id="code2" class="relatorio-section" style="display: none;">
    <code><pre>
      .....
      while True:
      # Capture frame-by-frame
      ret, frame = cap.read()
      # if frame is read correctly ret is True
      if not ret:
      print("Can't receive frame (stream end?). Exiting ...")
      break
      
      # Display the resulting frame
      cv.imshow('frame', frame)
      
      # Save on "s" key or exit on "q"
      k = cv.waitKey(1) 
      if  k == ord('s'):
      cv.imwrite("Ricardo"+str(i)+".jpg",frame)
      i = i + 1
      print("frame", i)
      elif k == ord('q'):
      break
      .....
    </pre></code>
  </div>
  
  <div class="image-container">
    <img src="relatorio2/Ricardo6.jpg" alt="Imagem" class="relatorio-image">
    <p class="image-caption"><em>Ricardo6.jpg</em></p>
  </div>

  <h2>An√°lise e Discuss√£o</h2>
  <p>
      
  </p>
  <h2>Conclus√µes</h2>
  <p>
    
  </p>
    <div class="referencias">
    <h2>Refer√™ncias</h2>
    <ul>
      <li><a href="" target="_blank">OpenCV Imgcodecs Reference</a></li>
    </ul>
  </div>

</div>
